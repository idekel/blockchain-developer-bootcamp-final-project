(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{276:function(e,t,n){},294:function(e,t){},296:function(e,t){},298:function(e,t){},302:function(e,t){},329:function(e,t){},331:function(e,t){},340:function(e,t){},342:function(e,t){},352:function(e,t){},354:function(e,t){},472:function(e,t){},474:function(e,t){},481:function(e,t){},482:function(e,t){},500:function(e,t){},572:function(e,t,n){},575:function(e,t,n){},578:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(42),i=n.n(a),s=(n(276),n(588)),u=n(593),o=n(589),l=n(26),d=n(91),j=n(23),p=n(9),b=n.n(p),h=n(21),O=n(584),y=n(267),x=n(585),f=n(27),m=n(33),v=n.n(m),w="0x049d9e577F709F61837C83107268B1b4Ba476808",g=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"InvoicePaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"NewInvoice",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"feeInBasisPoints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"enum POS.Type",name:"kind",type:"uint8"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"usdPrice",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"string",name:"upc",type:"string"},{internalType:"string",name:"imageUrl",type:"string"}],internalType:"struct POS.Product[]",name:"products",type:"tuple[]"},{internalType:"uint256",name:"discounts",type:"uint256"},{internalType:"address",name:"buyer",type:"address"},{internalType:"address",name:"beneficiary",type:"address"}],name:"createInvoice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"enum POS.Type",name:"kind",type:"uint8"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"usdPrice",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"string",name:"upc",type:"string"},{internalType:"string",name:"imageUrl",type:"string"}],internalType:"struct POS.Product[]",name:"products",type:"tuple[]"}],name:"getSubTotal",outputs:[{internalType:"uint256",name:"subtotal",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getInvoiceById",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"enum POS.Status",name:"status",type:"uint8"},{internalType:"uint256",name:"subtotal",type:"uint256"},{internalType:"uint256",name:"discounts",type:"uint256"},{internalType:"uint256",name:"total",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"buyer",type:"address"}],internalType:"struct POS.Invoice",name:"",type:"tuple"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"ownerA",type:"address"}],name:"getInvoicesFor",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"enum POS.Status",name:"status",type:"uint8"},{internalType:"uint256",name:"subtotal",type:"uint256"},{internalType:"uint256",name:"discounts",type:"uint256"},{internalType:"uint256",name:"total",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"buyer",type:"address"}],internalType:"struct POS.Invoice[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getInvoiceProducts",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"enum POS.Type",name:"kind",type:"uint8"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"usdPrice",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"string",name:"upc",type:"string"},{internalType:"string",name:"imageUrl",type:"string"}],internalType:"struct POS.Product[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"enum POS.Type",name:"kind",type:"uint8"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"usdPrice",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"string",name:"upc",type:"string"},{internalType:"string",name:"imageUrl",type:"string"}],internalType:"struct POS.Product[]",name:"products",type:"tuple[]"}],name:"validateProducts",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"deleteInvoice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"payInvoice",outputs:[],stateMutability:"payable",type:"function",payable:!0},{inputs:[{internalType:"address",name:"beneficiary",type:"address"}],name:"getBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"newFeeInBasisPoints",type:"uint256"}],name:"setContractFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],T=null,C=Object(f.b)("web3/connectToMetaMask",function(){var e=Object(h.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return e.next=4,n.dispatch(A(!0));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(f.b)("web3/listenForNewInvoices",Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new T.eth.Contract(g,w).events.NewInvoice({},(function(e,t){console.log(e)})).on("connected",(function(e){console.log(e)})).on("data",(function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))),S=Object(f.b)("web3/createInvoice",function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r,c,a,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.discounts,r=t.client,c=t.products,a=window.ethereum.selectedAddress,e.prev=2,i=new T.eth.Contract(g,w),e.next=6,i.methods.createInvoice(c,n,r,a).send({from:a});case 6:s=e.sent,console.log(s),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()),P=Object(f.b)("web3/loadInvoice",function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new T.eth.Contract(g,w),e.next=3,n.methods.getInvoiceById(t).call();case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(f.b)("web3/getInvoices",Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T.eth.Contract(g,w),e.next=3,t.methods.getInvoicesFor(window.ethereum.selectedAddress).call();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),L=Object(f.b)("web3/getBalance",Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T.eth.Contract(g,w),e.next=3,t.methods.getBalanceOf(window.ethereum.selectedAddress).call();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),B=Object(f.b)("web3/getContractFee",Object(h.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T.eth.Contract(g,w),n=t.methods.feeInBasisPoints(),e.next=4,n.call();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),M=Object(f.b)("web3/setContractFee",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new T.eth.Contract(g,w),e.prev=1,e.next=4,n.methods.setContractFee(t).send({from:window.ethereum.selectedAddress});case 4:e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),F=Object(f.b)("web3/getInvoiceProducts",(function(e){return new T.eth.Contract(g,w).methods.getInvoiceProducts(e).call()})),N=Object(f.b)("web3/payInvoice",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,c,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return new T.eth.Contract(g,w),e.prev=1,e.next=4,n.dispatch(P(t));case 4:return r=e.sent,c=r.payload,a=new T.eth.Contract(g,w),e.next=9,a.methods.payInvoice(t).send({from:window.ethereum.selectedAddress,value:c.total});case 9:i=e.sent,console.log(i),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(f.b)("web3/withdraw",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return new T.eth.Contract(g,w),e.prev=1,r=new T.eth.Contract(g,w),e.next=5,r.methods.withdraw().send({from:window.ethereum.selectedAddress});case 5:c=e.sent,console.log(c),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),G=Object(f.c)({name:"web3",initialState:{connected:!1,loadingInvoice:!1},reducers:{setConnected:function(e,t){e.connected=!0}},extraReducers:function(e){e.addCase(S.rejected,(function(e,t){console.log(t.error)})),e.addCase(P.pending,(function(e,t){e.loadingInvoice=!0})),e.addCase(P.fulfilled,(function(e,t){e.loadingInvoice=!1}))}}),A=G.actions.setConnected,H=Object(f.b)("web/initMetaMask",function(){var e=Object(h.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ethereum?T=new v.a(window.ethereum):window.web3&&(T=new v.a(window.web3.currentProvider)),e.next=4,T.eth.getAccounts();case 4:e.sent.length>0&&n.dispatch(A(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),U=G.reducer,q=(n(572),Object(f.c)({name:"app",initialState:{notification:{show:!1,message:"",type:"light",title:""},isLoading:!1},reducers:{sendNotification:function(e,t){e.notification={show:!0,message:t.payload.message,type:t.payload.type||"success",title:t.payload.title||"Success"}},closeNotitfication:function(e){e.notification={show:!1,message:"",type:"light",title:""}},setIsLoading:function(e,t){e.isLoading=t.payload}}})),W=q.actions,D=W.sendNotification,K=W.closeNotitfication,Q=W.setIsLoading,z=q.reducer,J=n(1);function R(){return Object(J.jsx)(O.a,{children:Object(J.jsxs)(y.a,{md:4,children:[Object(J.jsx)("div",{className:"clientButoon",children:Object(J.jsx)(d.b,{to:"/blockchain-developer-bootcamp-final-project/merchant",children:"Merchant"})}),Object(J.jsx)("div",{className:"clientButoon",children:Object(J.jsx)(d.b,{to:"/blockchain-developer-bootcamp-final-project/client",children:"Client"})}),Object(J.jsx)("div",{className:"clientButoon",children:Object(J.jsx)(d.b,{to:"/blockchain-developer-bootcamp-final-project/owner",children:"Owner"})})]})})}var V=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.web3})).connected,n=Object(j.c)((function(e){return e.app.isLoading})),c=function(){var n=Object(h.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=8;break}return e(Q(!0)),n.prev=2,n.next=5,e(C());case 5:return n.prev=5,e(Q(!1)),n.finish(5);case 8:case"end":return n.stop()}}),n,null,[[2,,5,8]])})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){e(H())}),[]);var a=Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{md:3,children:Object(J.jsx)(x.a,{onClick:c,children:"Connecto to meta mask"})})});return t?a=Object(J.jsx)(R,{}):n&&(a=Object(J.jsx)("div",{children:Object(J.jsx)("h3",{children:"Connecting to metamask..."})})),Object(J.jsx)("div",{className:"AppContainer",children:a})},Y=n(11),_=n(105),X=n(590),Z=n(591),$=n(586),ee=function(e){var t=Object(r.useState)(""),n=Object(Y.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)("0"),s=Object(Y.a)(i,2),u=s[0],o=s[1],l=Object(r.useState)(0),d=Object(Y.a)(l,2),j=d[0],p=d[1],b=Object(r.useState)(0),h=Object(Y.a)(b,2),O=h[0],y=h[1],f=Object(r.useState)(1),m=Object(Y.a)(f,2),w=m[0],g=m[1],T=Object(r.useState)(""),C=Object(Y.a)(T,2),k=C[0],S=C[1],P=Object(r.useState)(""),I=Object(Y.a)(P,2),L=I[0],B=I[1];return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(X.a,{onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:!0,children:[Object(J.jsxs)(X.a.Body,{children:[Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Name"}),Object(J.jsx)(Z.a.Control,{type:"text",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Kind"}),Object(J.jsxs)(Z.a.Select,{value:c,onChange:function(e){o(e.target.value)},children:[Object(J.jsx)("option",{value:"0",children:"Good"}),Object(J.jsx)("option",{value:"1",children:"Service"})]})]}),Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Price"}),Object(J.jsx)(Z.a.Control,{type:"number",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"USD Price"}),Object(J.jsx)(Z.a.Control,{type:"number",value:O,onChange:function(e){return y(e.target.value)}})]}),Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Quantity"}),Object(J.jsx)(Z.a.Control,{type:"number",value:w,onChange:function(e){return g(e.target.value)}})]}),Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"UPC"}),Object(J.jsx)(Z.a.Control,{type:"text",value:k,onChange:function(e){return S(e.target.value)}})]}),Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Image URL"}),Object(J.jsx)(Z.a.Control,{type:"text",value:L,onChange:function(e){return B(e.target.value)}})]})]}),Object(J.jsx)("br",{}),Object(J.jsx)(x.a,{onClick:function(){return e.onProductCreated({kind:u,name:c,imageUrl:L,upc:k,price:v.a.utils.toWei(j),usdPrice:O,quantity:w})},children:"Add"})]})})},te=function(){var e=Object(j.b)(),t=Object(r.useState)(""),n=Object(Y.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)("0"),s=Object(Y.a)(i,2),u=s[0],o=s[1],l=Object(r.useState)(!1),d=Object(Y.a)(l,2),p=d[0],f=d[1],m=Object(r.useState)([]),w=Object(Y.a)(m,2),g=w[0],T=w[1],C=Object(j.c)((function(e){return e.app.isLoading})),k=function(){var t=Object(h.a)(b.a.mark((function t(){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Q(!0)),t.next=3,e(S({discounts:v.a.utils.toWei(u),client:c,products:g}));case 3:n=t.sent,!0===(r=n.payload)?(e(D({message:"Transaction completed successfuly.",title:"Success"})),a(""),o("0"),T([])):e(D({message:"Trasanction failed. Error: ".concat(r.message),title:"Error",type:"danger"})),e(Q(!1));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){return f(!1)},I=null;p&&(I=Object(J.jsx)(ee,{onHide:P,onProductCreated:function(e){T([].concat(Object(_.a)(g),[e])),P()}}));var L=null;if(g.length>0){for(var B=[],M=function(e){var t=g[e],n=Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:e+1}),Object(J.jsx)("td",{children:t.name}),Object(J.jsx)("td",{children:t.price}),Object(J.jsx)("td",{children:t.quantity}),Object(J.jsx)("td",{children:t.usdPrice}),Object(J.jsx)("td",{children:0==t.kind?"Good":"Service"}),Object(J.jsx)("td",{className:"deleteProduct",onClick:function(){return function(e){g.splice(e,1),T(Object(_.a)(g))}(e)},children:"x"})]});B.push(n)},F=0;F<g.length;F++)M(F);L=Object(J.jsx)("tbody",{children:B})}return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(O.a,{children:Object(J.jsxs)(y.a,{md:6,children:[Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Client address"}),Object(J.jsx)(Z.a.Control,{value:c,type:"text",placeholder:"Entenr your client wallet address",onChange:function(e){return a(e.target.value)}})]}),Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Discounts"}),Object(J.jsx)(Z.a.Control,{value:u,type:"number",placeholder:"Entenr any discounts or 0",onChange:function(e){return o(e.target.value)}})]}),Object(J.jsx)("br",{}),Object(J.jsxs)($.a,{children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"#"}),Object(J.jsx)("th",{children:"Name"}),Object(J.jsx)("th",{children:"Price ether"}),Object(J.jsx)("th",{children:"Quantity"}),Object(J.jsx)("th",{children:"Price USD"}),Object(J.jsx)("th",{children:"Kind"}),Object(J.jsx)("th",{onClick:function(){return f(!0)},children:"+"})]})}),L]}),I,Object(J.jsx)("br",{}),Object(J.jsx)(x.a,{disabled:C,onClick:k,children:"Enviar"})]})})})},ne=n(592),re=n(594),ce=n(587),ae=function(e){var t=Object(r.useState)([]),n=Object(Y.a)(t,2),c=n[0],a=n[1],i=Object(j.b)(),s=Object(j.c)((function(e){return e.app.isLoading})),u=function(){var t=Object(h.a)(b.a.mark((function t(){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(Q(!0)),t.next=3,i(F(e.invoice.id));case 3:r=t.sent,a(null!==(n=r.payload)&&void 0!==n?n:[]),i(Q(!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(h.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(Q(!0)),t.next=3,i(N(e.invoice.id));case 3:n=t.sent,i(Q(!1)),e.onHide(n.payload);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=Object(J.jsx)(x.a,{disabled:s,onClick:0==c.length?u:function(){return a([])},children:0==c.length?"Load products":"Hide products"}),d=null;c.length>0&&(d=Object(J.jsxs)($.a,{children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:"Image"}),Object(J.jsx)("td",{children:"Name"}),Object(J.jsx)("td",{children:"Price"}),Object(J.jsx)("td",{children:"Quantity"})]})}),Object(J.jsx)("tbody",{children:c.map((function(e){return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:e.imageUrl}),Object(J.jsx)("td",{children:e.name}),Object(J.jsx)("td",{children:e.price}),Object(J.jsx)("td",{children:e.quantity})]})}))})]}));var p=void 0===e.showPayButton||e.showPayButton;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(X.a,{onHide:e.onHide,size:"lg",centered:!0,show:!0,children:Object(J.jsxs)(X.a.Body,{children:[Object(J.jsx)(O.a,{children:Object(J.jsxs)(y.a,{children:[Object(J.jsx)("div",{children:Object(J.jsxs)("span",{children:["Number #: ",e.invoice.id]})}),Object(J.jsx)("div",{children:Object(J.jsxs)("span",{children:["Creator: ",e.invoice.owner]})}),Object(J.jsx)("div",{children:Object(J.jsxs)("span",{children:["Merchant: ",e.invoice.beneficiary]})}),Object(J.jsx)("div",{children:Object(J.jsxs)("span",{children:["Custumer: ",e.invoice.buyer]})}),Object(J.jsx)("div",{children:Object(J.jsxs)("span",{children:["Subtotal: ",v.a.utils.fromWei(e.invoice.subtotal)," Eth"]})}),Object(J.jsx)("div",{children:Object(J.jsxs)("span",{children:["Discounts: ",v.a.utils.fromWei(e.invoice.discounts)," Eth"]})}),Object(J.jsx)("div",{children:Object(J.jsxs)("span",{children:["Total: ",v.a.utils.fromWei(e.invoice.total)," Eth"]})})]})}),Object(J.jsx)("br",{}),Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{children:d})}),Object(J.jsxs)(O.a,{children:[Object(J.jsx)(y.a,{children:l}),Object(J.jsx)(y.a,{children:p&&Object(J.jsx)(x.a,{disabled:s,onClick:o,children:"Pay invoice"})})]})]})})})},ie=(n(575),function(){var e=Object(j.b)(),t=Object(r.useState)([]),n=Object(Y.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(null),s=Object(Y.a)(i,2),u=s[0],o=s[1];Object(r.useEffect)(Object(h.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(I());case 3:(n=t.sent).payload&&a(n.payload),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))));var l=null;if(null!=u){l=Object(J.jsx)(ae,{onHide:function(){return o(null)},invoice:u,showPayButton:!1})}var d=Object(J.jsx)(ce.a,{variant:"warning",children:Object(J.jsx)("h3",{children:"You don't have invoices yet"})});return c.length>0&&(d=Object(J.jsxs)($.a,{striped:!0,bordered:!0,hover:!0,children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"ID#"}),Object(J.jsx)("th",{children:"Beneficiary"}),Object(J.jsx)("th",{children:"Client"}),Object(J.jsx)("th",{children:"Total"}),Object(J.jsx)("th",{children:"Status"}),Object(J.jsx)("th",{})]})}),Object(J.jsx)("tbody",{children:c.map((function(e){return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:e.id}),Object(J.jsx)("td",{children:e.beneficiary}),Object(J.jsx)("td",{children:e.buyer}),Object(J.jsx)("td",{children:v.a.utils.fromWei(e.total)}),Object(J.jsx)("td",{children:1==e.status?"Paid":"Pending"}),Object(J.jsx)("td",{children:Object(J.jsx)("a",{onClick:function(){return o(e)},children:"Ver"})})]})}))})]})),Object(J.jsxs)("div",{className:"InvoiceList",children:[d,l]})}),se=function(){var e=Object(r.useState)(null),t=Object(Y.a)(e,2),n=t[0],c=t[1],a=Object(j.b)(),i=Object(j.c)((function(e){return e.app.isLoading})),s=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(L());case 2:t=e.sent,c(v.a.utils.fromWei(t.payload||"0"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){s()}));var u=null;if(null!==n){var o=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Q(!0)),e.next=3,a(E());case 3:e.sent.payload?a(D({message:"Trasanction successful.",title:"Success"})):a(D({message:"Trasanction failed.",title:"Error",type:"danger"})),a(Q(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=Object(J.jsx)(x.a,{disabled:i,onClick:o,children:"Withdraw"});u=Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{children:Object(J.jsxs)("h1",{children:["Current balance: ",n," ",n>0&&l," "]})})})}return Object(J.jsxs)(ne.a,{defaultActiveKey:"invoices",children:[Object(J.jsxs)(re.a,{eventKey:"invoices",title:"My Invoices",children:[u,Object(J.jsx)("h1",{children:"List of invoices"}),Object(J.jsx)("hr",{}),Object(J.jsx)(ie,{})]}),Object(J.jsx)(re.a,{eventKey:"invoice-form",title:"Create new invoice",children:Object(J.jsx)(te,{})})]})},ue=n(2),oe=function(){var e=Object(j.b)(),t=Object(r.useState)(0),n=Object(Y.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(null),s=Object(Y.a)(i,2),u=s[0],o=s[1],l=Object(j.c)((function(e){return e.app.isLoading}));Object(r.useEffect)((function(){e(k())}),[]);var d=function(){var t=Object(h.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Q(!0)),t.next=3,e(P(c));case 3:n=t.sent,o(n.payload),e(Q(!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=null;if(null!=u){var f={invoice:u,onHide:function(t){o(null),t?e(D({message:"Trasanction successful.",title:"Success"})):!1===t&&e(D({message:"Trasanction failed.",title:"Error",type:"danger"}))}};p=Object(J.jsx)(ae,Object(ue.a)({},f))}return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{md:4,children:Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Invoice #"}),Object(J.jsx)(Z.a.Control,{type:"text",value:c,onChange:function(e){return a(e.target.value)}})]})})}),Object(J.jsx)("br",{}),Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{md:4,children:Object(J.jsx)(x.a,{disabled:l,onClick:d,children:"Load"})})}),Object(J.jsx)("br",{}),p]})},le=function(){var e=Object(j.b)(),t=Object(r.useState)(0),n=Object(Y.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(0),s=Object(Y.a)(i,2),u=s[0],o=s[1],l=Object(j.c)((function(e){return e.app.isLoading})),d=function(){var t=Object(h.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(B());case 2:n=t.sent,o(n.payload);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)(d);var p=function(){var t=Object(h.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Q(!0)),t.next=3,e(M(c));case 3:t.sent.payload?(d(),e(D({message:"Trasanction successful.",title:"Success"}))):e(D({message:"Trasanction failed. Only onwer can set contract fee",title:"Error",type:"danger"})),e(Q(!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{children:Object(J.jsxs)("h3",{children:["Current Contract fee: ",u," Basis points"]})})}),Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{children:Object(J.jsxs)(Z.a.Group,{children:[Object(J.jsx)(Z.a.Label,{children:"Contract Fee"}),Object(J.jsx)(Z.a.Control,{type:"text",value:c,onChange:function(e){return a(e.target.value)}})]})})}),Object(J.jsx)("br",{}),Object(J.jsx)(O.a,{children:Object(J.jsx)(y.a,{children:Object(J.jsx)(x.a,{disabled:l,onClick:p,children:"Send"})})})]})};function de(e){var t=e.children,n=e.path,r=Object(j.c)((function(e){return e.web3})).connected;return Object(J.jsx)(l.b,{path:n,render:function(){return!0===r?t:Object(J.jsx)(l.a,{to:{path:"/"}})}})}var je=function(){var e,t,n=Object(j.c)((function(e){return e.app})).notification,r=Object(j.b)();return Object(J.jsx)(s.a,{position:"top-end",children:Object(J.jsxs)(u.a,{onClose:function(){return r(K())},show:n.show,animation:!1,bg:n.type,children:[Object(J.jsxs)(u.a.Header,{children:[Object(J.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(J.jsx)("strong",{className:"me-auto",children:n.title})]}),Object(J.jsx)(u.a.Body,{children:(e=n.message,t=200,e.length>t?e.substring(0,t)+"...":e)})]})})};var pe=function(){return Object(J.jsxs)(o.a,{children:[Object(J.jsx)(d.a,{children:Object(J.jsxs)(l.d,{children:[Object(J.jsx)(l.b,{exact:!0,path:"/blockchain-developer-bootcamp-final-project/",children:Object(J.jsx)(V,{})}),Object(J.jsx)(de,{exact:!0,path:"/blockchain-developer-bootcamp-final-project/merchant",children:Object(J.jsx)(se,{})}),Object(J.jsx)(de,{exact:!0,path:"/blockchain-developer-bootcamp-final-project/client",children:Object(J.jsx)(oe,{})}),Object(J.jsx)(de,{exact:!0,path:"/blockchain-developer-bootcamp-final-project/owner",children:Object(J.jsx)(le,{})})]})}),Object(J.jsx)(je,{})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,595)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},he=Object(f.a)({reducer:{web3:U,app:z}});i.a.render(Object(J.jsx)(c.a.StrictMode,{children:Object(J.jsx)(j.a,{store:he,children:Object(J.jsx)(pe,{})})}),document.getElementById("root")),be()}},[[578,1,2]]]);
//# sourceMappingURL=main.ecf3974b.chunk.js.map