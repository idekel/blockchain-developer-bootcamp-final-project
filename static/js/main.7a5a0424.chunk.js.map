{"version":3,"sources":["constants/POS.js","redux/web3Slice.js","redux/appSlice.js","pages/Home.js","components/InvoiceForm.js","components/InvoiceDetail.js","components/InvoiceList.js","pages/Merchant.js","pages/Client.js","pages/Owner.js","App.js","reportWebVitals.js","redux/store.js","index.js"],"names":["POS_ADDR","POS_ABI","web3","connectToMetaMask","createAsyncThunk","_","thunkAPI","a","window","ethereum","request","method","Web3","dispatch","setConnected","listenForNewInvoices","eth","Contract","events","NewInvoice","error","event","console","log","on","subscriptionId","createInvoice","discounts","client","products","beneficiary","selectedAddress","pos","methods","send","from","ret","loadInvoice","id","getInvoiceById","call","invoice","getInvoices","getInvoicesFor","invoices","getBalance","getBalanceOf","balance","getContractFee","feeInBasisPoints","fee","setContractFee","newFee","getInvoiceProducts","payInvoice","payload","value","total","sendWithdraw","withdraw","web3Slice","createSlice","name","initialState","connected","loadingInvoice","reducers","state","action","extraReducers","builder","addCase","rejected","pending","fulfilled","actions","appSlice","notification","show","message","type","title","isLoading","sendNotification","closeNotitfication","setIsLoading","UserSelector","Row","Col","md","className","to","Home","useDispatch","useSelector","app","doConnectToMetaMask","useEffect","child","Button","onClick","ProductForm","props","useState","setName","kind","setKind","price","setPrice","usdPrice","setUSDPrice","quantity","setQuantity","upc","setUPC","imageUrl","setImageUrl","Modal","onHide","size","aria-labelledby","centered","Body","Form","Group","Label","Control","onChange","e","target","Select","onProductCreated","utils","toWei","InvoiceForm","setClient","setDiscount","showAddProduct","setShowAddProduct","setProducts","submitInvoice","onHideProductForm","productForm","product","tbody","length","trs","i","tr","splice","onDeleteProduct","push","placeholder","Table","disabled","InvoiceDetail","loadProducts","onPayInvoice","productsTable","map","showPayButton","undefined","owner","buyer","fromWei","subtotal","InvoiceList","setInvoices","setInvoice","invoiceDetail","Alert","variant","striped","bordered","hover","status","MerchantHome","setBalance","onGetBalance","balanceSection","onWithdraw","Tabs","defaultActiveKey","Tab","eventKey","ClientHome","invoiceId","setInvoiceId","invoiceModal","args","Owner","setFee","currentFee","setCurrentFee","loadCurrentFee","sendNewFee","PrivateRoute","children","path","render","NotificationCenter","str","len","ToastContainer","position","Toast","onClose","animation","bg","Header","src","alt","substring","App","Container","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","web3Reducer","appReducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a5a0424.chunk.js","sourcesContent":["export const POS_ADDR = '0x049d9e577F709F61837C83107268B1b4Ba476808' // '0x6C22f511639Ed9293Ff4FAbe7d3EfADdf446E7e8'\n\n\nexport const POS_ABI = [\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"InvoicePaid\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"buyer\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"NewInvoice\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"feeInBasisPoints\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"products\",\n        \"type\": \"tuple[]\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"discounts\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"buyer\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"beneficiary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"createInvoice\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"products\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"name\": \"getSubTotal\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"subtotal\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"pure\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getInvoiceById\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"enum POS.Status\",\n            \"name\": \"status\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"subtotal\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"discounts\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"total\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"beneficiary\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"buyer\",\n            \"type\": \"address\"\n          }\n        ],\n        \"internalType\": \"struct POS.Invoice\",\n        \"name\": \"\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"ownerA\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"getInvoicesFor\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"enum POS.Status\",\n            \"name\": \"status\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"subtotal\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"discounts\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"total\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"beneficiary\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"buyer\",\n            \"type\": \"address\"\n          }\n        ],\n        \"internalType\": \"struct POS.Invoice[]\",\n        \"name\": \"\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getInvoiceProducts\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"products\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"name\": \"validateProducts\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"pure\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"deleteInvoice\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"payInvoice\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\",\n    \"payable\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"beneficiary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"getBalanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"newFeeInBasisPoints\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"setContractFee\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"withdraw\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]","import { createSlice } from \"@reduxjs/toolkit\"\nimport { createAsyncThunk } from \"@reduxjs/toolkit\"\nimport Web3 from 'web3'\nimport { POS_ABI, POS_ADDR } from '../constants/POS'\n\nconst initialState = {\n    connected: false,\n    loadingInvoice: false,\n}\n\nlet web3 = null\n\n\nexport const connectToMetaMask = createAsyncThunk('web3/connectToMetaMask',\n    async (_, thunkAPI) => {\n        await window.ethereum.request({ method: 'eth_requestAccounts' })\n        web3 = new Web3(window.ethereum);\n        await thunkAPI.dispatch(setConnected(true))\n    })\n\nexport const listenForNewInvoices = createAsyncThunk('web3/listenForNewInvoices',\n    async () => {\n        const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n        pos.events.NewInvoice({}, (error, event) => {\n            console.log(error)\n        }).on('connected', (subscriptionId) => {\n            console.log(subscriptionId)\n        }).on('data', (event) => {\n            console.log(event)\n        })\n    })\n\nexport const createInvoice = createAsyncThunk(\n    'web3/createInvoice',\n    async ({ discounts, client, products }) => {\n        const beneficiary = window.ethereum.selectedAddress\n        //     imageUrl: 'https://icatcare.org/app/uploads/2018/07/Thinking-of-getting-a-cat.png'\n        try {\n            const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n            const ret = await pos.methods.createInvoice(products, discounts, client, beneficiary)\n                .send({ from: beneficiary })\n            console.log(ret)\n        } catch (e) {\n            return e\n        }\n        return true\n    },\n)\n\nexport const loadInvoice = createAsyncThunk('web3/loadInvoice', async (id) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const invoice = await pos.methods.getInvoiceById(id).call()\n    return invoice\n})\n\nexport const getInvoices = createAsyncThunk('web3/getInvoices', async () => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const invoices = await pos.methods.getInvoicesFor(window.ethereum.selectedAddress).call()\n    return invoices\n})\n\nexport const getBalance = createAsyncThunk('web3/getBalance', async () => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const balance = await pos.methods.getBalanceOf(window.ethereum.selectedAddress).call()\n    return balance\n})\n\nexport const getContractFee = createAsyncThunk('web3/getContractFee', async () => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const method = pos.methods.feeInBasisPoints()\n    const fee = await method.call()\n    return fee\n})\n\nexport const setContractFee = createAsyncThunk('web3/setContractFee', async (newFee) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    try {\n        const ret = await pos.methods.setContractFee(newFee)\n            .send({ from: window.ethereum.selectedAddress})\n    } catch (e) {\n        return false\n    }\n    return true\n})\n\nexport const getInvoiceProducts = createAsyncThunk('web3/getInvoiceProducts', (id) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    return pos.methods.getInvoiceProducts(id).call()\n})\n\n\nexport const payInvoice = createAsyncThunk('web3/payInvoice', async (id, thunkAPI) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    try {\n        const { payload } = await thunkAPI.dispatch(loadInvoice(id))\n        const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n        const ret = await pos.methods.payInvoice(id)\n            .send({ from: window.ethereum.selectedAddress, value: payload.total })\n        console.log(ret)\n    } catch (e) {\n        console.log(e)\n        return false\n    }\n    return true\n})\n\nexport const sendWithdraw = createAsyncThunk('web3/withdraw', async (id, thunkAPI) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    try {\n        const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n        const ret = await pos.methods.withdraw()\n            .send({ from: window.ethereum.selectedAddress})\n        console.log(ret)\n    } catch (e) {\n        console.log(e)\n        return false\n    }\n    return true\n})\n\nexport const web3Slice = createSlice({\n    name: 'web3',\n    initialState,\n    reducers: {\n        setConnected: (state, action) => {\n            state.connected = true\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(createInvoice.rejected, (state, action) => {\n            console.log(action.error)\n        })\n        builder.addCase(loadInvoice.pending, (state, action) => {\n            state.loadingInvoice = true;\n        })\n        builder.addCase(loadInvoice.fulfilled, (state, action) => {\n            state.loadingInvoice = false;\n        })\n    },\n})\n\nexport const { setConnected } = web3Slice.actions\n\nexport default web3Slice.reducer\n","import { createSlice } from '@reduxjs/toolkit'\n\n\nconst initialState = {\n    notification: {\n        show: false,\n        message: '',\n        type: 'light',\n        title: ''\n    },\n    isLoading: false,\n}\n\nexport const appSlice = createSlice({\n    name: 'app',\n    initialState,\n    reducers: {\n        sendNotification: (state, action) => {\n            state.notification = {\n                show: true,\n                message: action.payload.message,\n                type: action.payload.type || 'success',\n                title: action.payload.title || 'Success',\n            }\n        },\n        closeNotitfication: (state) => {\n            state.notification = { show: false, message: '', type: 'light', title: '', }\n        },\n        setIsLoading: (state, action) => {\n            state.isLoading = action.payload\n        }\n    }\n})\n\nexport const { sendNotification, closeNotitfication, setIsLoading } = appSlice.actions\n\nexport default appSlice.reducer","import { useDispatch, useSelector } from 'react-redux'\nimport { Button, Row, Col } from 'react-bootstrap'\nimport { connectToMetaMask } from '../redux/web3Slice'\nimport './App.scss'\nimport { Link } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport { setIsLoading } from '../redux/appSlice'\n\nfunction UserSelector() {\n    return <Row>\n        <Col md={4}>\n            <div className=\"clientButoon\">\n                <Link to=\"/blockchain-developer-bootcamp-final-project/merchant\">Merchant</Link>\n            </div>\n            <div className=\"clientButoon\">\n                <Link to=\"/blockchain-developer-bootcamp-final-project/client\">Client</Link>\n            </div>\n            <div className=\"clientButoon\">\n                <Link to=\"/blockchain-developer-bootcamp-final-project/owner\">Owner</Link>\n            </div>\n        </Col>\n    </Row>\n}\n\nconst Home = () => {\n    const dispatch = useDispatch();\n    const { connected } = useSelector(state => {\n        return state.web3\n    })\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const doConnectToMetaMask = async () => {\n        if (!connected) {\n            dispatch(setIsLoading(true))\n            try {\n                await dispatch(connectToMetaMask())\n            } finally {\n                dispatch(setIsLoading(false))\n            }\n        }\n    }\n\n    useEffect(doConnectToMetaMask, [])\n\n    let child = <Row>\n        <Col md={3}>\n            <Button onClick={doConnectToMetaMask}>Connecto to meta mask</Button>\n        </Col>\n    </Row>\n\n    if (connected) {\n        child = <UserSelector></UserSelector>\n    } else if (isLoading) {\n        child = <div>\n            <h3>Connecting to metamask...</h3>\n        </div>\n    }\n\n    return <div className=\"AppContainer\">{child}</div>;\n\n}\n\nexport default Home;","import { useState } from 'react';\nimport { Row, Col, Form, Button, Modal, Table } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { createInvoice } from '../redux/web3Slice'\nimport { sendNotification, setIsLoading } from '../redux/appSlice'\nimport Web3 from 'web3'\n\n\nconst ProductForm = (props) => {\n    const [name, setName] = useState('')\n    const [kind, setKind] = useState('0')\n    const [price, setPrice] = useState(0)\n    const [usdPrice, setUSDPrice] = useState(0)\n    const [quantity, setQuantity] = useState(1)\n    const [upc, setUPC] = useState('')\n    const [imageUrl, setImageUrl] = useState('')\n\n    return <>\n        <Modal\n            onHide={props.onHide}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n            show={true}\n        >\n            <Modal.Body>\n                <Form.Group>\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Kind</Form.Label>\n                    <Form.Select value={name} onChange={e => { setKind(e.target.value) }}>\n                        <option value=\"0\">Good</option>\n                        <option value=\"1\">Service</option>\n                    </Form.Select>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Price</Form.Label>\n                    <Form.Control type=\"number\" value={price} onChange={e => setPrice(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>USD Price</Form.Label>\n                    <Form.Control type=\"number\" value={usdPrice} onChange={e => setUSDPrice(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Quantity</Form.Label>\n                    <Form.Control type=\"number\" value={quantity} onChange={e => setQuantity(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>UPC</Form.Label>\n                    <Form.Control type=\"text\" value={upc} onChange={e => setUPC(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Image URL</Form.Label>\n                    <Form.Control type=\"text\" value={imageUrl} onChange={e => setImageUrl(e.target.value)} />\n                </Form.Group>\n            </Modal.Body>\n            <br />\n            <Button onClick={() => props.onProductCreated({ kind, name, imageUrl, upc, price: Web3.utils.toWei(price), usdPrice, quantity })}>Add</Button>\n        </Modal>\n    </>\n}\n\nexport const InvoiceForm = () => {\n\n    const dispatch = useDispatch()\n    const [client, setClient] = useState('')\n    const [discounts, setDiscount] = useState('0')\n    const [showAddProduct, setShowAddProduct] = useState(false)\n    const [products, setProducts] = useState([])\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const submitInvoice = async () => {\n        dispatch(setIsLoading(true))\n        const { payload } = await dispatch(createInvoice({ discounts: Web3.utils.toWei(discounts), client, products }))\n        if (payload === true) {\n            dispatch(sendNotification({ message: 'Transaction completed successfuly.', title: 'Success' }))\n            setClient('')\n            setDiscount('0')\n            setProducts([])\n        } else {\n            dispatch(sendNotification({ message: `Trasanction failed. Error: ${payload.message}`, title: 'Error', type: 'danger' }))\n        }\n        dispatch(setIsLoading(false))\n    }\n\n    const onHideProductForm = () => setShowAddProduct(false)\n\n    const onProductCreated = (product) => {\n        setProducts([...products, product])\n        onHideProductForm()\n    }\n\n    const onDeleteProduct = (i) => {\n        products.splice(i, 1)\n        setProducts([...products])\n    }\n\n    let productForm = null\n    if (showAddProduct) {\n        productForm = <ProductForm onHide={onHideProductForm} onProductCreated={onProductCreated} />\n    }\n\n    let tbody = null\n    if (products.length > 0) {\n        const trs = []\n        for (let i = 0; i < products.length; i++) {\n            const product = products[i]\n            const tr = <tr>\n                <td>{i + 1}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.quantity}</td>\n                <td>{product.usdPrice}</td>\n                <td>{product.kind == 0 ? 'Good' : 'Service'}</td>\n                <td className=\"deleteProduct\" onClick={() => onDeleteProduct(i)}>x</td>\n            </tr>\n\n            trs.push(tr)\n        }\n        tbody = <tbody>{trs}</tbody>\n    }\n\n    return <>\n        <Row>\n            <Col md={6}>\n                <Form.Group>\n                    <Form.Label>Client address</Form.Label>\n                    <Form.Control value={client} type=\"text\" placeholder=\"Entenr your client wallet address\" onChange={e => setClient(e.target.value)}></Form.Control>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Discounts</Form.Label>\n                    <Form.Control value={discounts} type=\"number\" placeholder=\"Entenr any discounts or 0\" onChange={e => setDiscount(e.target.value)}></Form.Control>\n                </Form.Group>\n                <br />\n                <Table>\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>Name</th>\n                            <th>Price ether</th>\n                            <th>Quantity</th>\n                            <th>Price USD</th>\n                            <th>Kind</th>\n                            <th onClick={() => setShowAddProduct(true)}>+</th>\n                        </tr>\n                    </thead>\n                    {tbody}\n                </Table>\n                {productForm}\n                <br />\n                <Button disabled={isLoading} onClick={submitInvoice}>Enviar</Button>\n            </Col>\n        </Row>\n    </>\n};","import { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Web3 from 'web3'\nimport { payInvoice, getInvoiceProducts } from '../redux/web3Slice'\nimport { Row, Col, Button, Modal, Table } from 'react-bootstrap'\nimport { setIsLoading } from '../redux/appSlice'\n\n\nexport const InvoiceDetail = (props) => {\n\n    const [products, setProducts] = useState([])\n    const dispatch = useDispatch()\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const loadProducts = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(getInvoiceProducts(props.invoice.id))\n        setProducts(ret.payload ?? [])\n        dispatch(setIsLoading(false))\n    }\n\n    const onPayInvoice = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(payInvoice(props.invoice.id))\n        dispatch(setIsLoading(false))\n        props.onHide(ret.payload)\n    }\n\n    let child = <Button disabled={isLoading} onClick={products.length == 0 ? loadProducts : () => setProducts([])}>{products.length == 0 ? 'Load products' : 'Hide products'}</Button>\n    let productsTable = null\n\n    if (products.length > 0) {\n        productsTable = <Table>\n            <thead>\n                <tr>\n                    <td>Image</td>\n                    <td>Name</td>\n                    <td>Price</td>\n                    <td>Quantity</td>\n                </tr>\n            </thead>\n            <tbody>\n                {products.map((product) => <tr>\n                    <td>{product.imageUrl}</td>\n                    <td>{product.name}</td>\n                    <td>{product.price}</td>\n                    <td>{product.quantity}</td>\n                </tr>)}\n            </tbody>\n        </Table>\n    }\n\n    const showPayButton = props.showPayButton !== undefined ? props.showPayButton : true\n\n    return <>\n        <Modal\n            onHide={props.onHide}\n            size=\"lg\"\n            centered\n            show={true}\n        >\n            <Modal.Body>\n                <Row>\n                    <Col>\n                        <div><span>Number #: {props.invoice.id}</span></div>\n                        <div><span>Creator: {props.invoice.owner}</span></div>\n                        <div><span>Merchant: {props.invoice.beneficiary}</span></div>\n                        <div><span>Custumer: {props.invoice.buyer}</span></div>\n                        <div><span>Subtotal: {Web3.utils.fromWei(props.invoice.subtotal)} Eth</span></div>\n                        <div><span>Discounts: {Web3.utils.fromWei(props.invoice.discounts)} Eth</span></div>\n                        <div><span>Total: {Web3.utils.fromWei(props.invoice.total)} Eth</span></div>\n                    </Col>\n                </Row>\n                <br />\n                <Row>\n                    <Col>\n                        {productsTable}\n                    </Col>\n                </Row>\n                <Row>\n                    <Col>\n                        {child}\n                    </Col>\n                    <Col>\n                        {showPayButton && <Button disabled={isLoading} onClick={onPayInvoice}>Pay invoice</Button>}\n                    </Col>\n                </Row>\n            </Modal.Body>\n        </Modal>\n    </>\n}","import { useEffect, useState } from 'react'\nimport { Table, Alert } from 'react-bootstrap'\nimport { useDispatch } from 'react-redux'\nimport Web3 from 'web3'\nimport { getInvoices } from '../redux/web3Slice'\nimport { InvoiceDetail } from './InvoiceDetail'\nimport './scss/InvoiceList.scss'\n\nexport const InvoiceList = () => {\n    const dispatch = useDispatch()\n    const [invoices, setInvoices] = useState([])\n    const [invoice, setInvoice] = useState(null)\n\n    useEffect(async () => {\n        try {\n            const ret = await dispatch(getInvoices())\n            if (ret.payload)\n                setInvoices(ret.payload)\n        } catch (e) {\n            console.log(e)\n        }\n    })\n\n    let invoiceDetail = null\n    if (invoice != null) {\n        const onHide = () => setInvoice(null)\n        invoiceDetail = <InvoiceDetail onHide={onHide} invoice={invoice} showPayButton={false} />\n    }\n\n    let child = <Alert variant=\"warning\">\n        <h3>You don't have invoices yet</h3>\n    </Alert> \n\n    if (invoices.length > 0) {\n        child = <Table striped bordered hover>\n            <thead>\n                <tr>\n                    <th>ID#</th>\n                    <th>Beneficiary</th>\n                    <th>Client</th>\n                    <th>Total</th>\n                    <th>Status</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                {invoices.map(invoice => <tr>\n                    <td>{invoice.id}</td>\n                    <td>{invoice.beneficiary}</td>\n                    <td>{invoice.buyer}</td>\n                    <td>{Web3.utils.fromWei(invoice.total)}</td>\n                    <td>{invoice.status == 1 ? 'Paid' : 'Pending'}</td>\n                    <td><a onClick={() => setInvoice(invoice)}>Ver</a></td>\n                </tr>)}\n            </tbody>\n        </Table>\n    }\n\n    return <div className=\"InvoiceList\">\n        {child}\n        {invoiceDetail}\n    </div>\n}","import { InvoiceForm } from '../components/InvoiceForm'\nimport { getBalance, sendWithdraw } from '../redux/web3Slice'\nimport { sendNotification, setIsLoading } from '../redux/appSlice'\nimport { Row, Col, Tabs, Tab, Button } from 'react-bootstrap'\nimport { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Web3 from 'web3'\nimport { InvoiceList } from '../components/InvoiceList'\n\n\nexport const MerchantHome = () => {\n    const [balance, setBalance] = useState(null)\n    const dispatch = useDispatch()\n    const isLoading = useSelector(state => state.app.isLoading)\n\n\n    const onGetBalance = async () => {\n        const ret = await dispatch(getBalance())\n        setBalance(Web3.utils.fromWei(ret.payload || '0'))\n    }\n\n    useEffect(() => {\n        onGetBalance()\n    })\n    let balanceSection = null\n    if (balance !== null) {\n        const onWithdraw = async () => {\n            dispatch(setIsLoading(true))\n            const ret = await dispatch(sendWithdraw())\n            if (ret.payload) {\n                dispatch(sendNotification({ message: `Trasanction successful.`, title: 'Success' }))\n            } else {\n                dispatch(sendNotification({ message: `Trasanction failed.`, title: 'Error', type: 'danger' }))\n            }\n            dispatch(setIsLoading(false))\n        }\n        const withdraw =\n            <Button disabled={isLoading} onClick={onWithdraw}>Withdraw</Button>\n        balanceSection = <Row>\n            <Col>\n                <h1>Current balance: {balance} {balance > 0 && withdraw} </h1>\n            </Col>\n        </Row>\n    }\n    return <Tabs defaultActiveKey=\"invoices\">\n        <Tab eventKey=\"invoices\" title=\"My Invoices\">\n            {balanceSection}\n            <h1>List of invoices</h1>\n            <hr />\n            <InvoiceList />\n        </Tab>\n        <Tab eventKey=\"invoice-form\" title=\"Create new invoice\">\n            <InvoiceForm></InvoiceForm>\n        </Tab>\n    </Tabs>\n}","import { useEffect, useState } from 'react'\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { loadInvoice, listenForNewInvoices } from '../redux/web3Slice'\nimport { InvoiceDetail } from '../components/InvoiceDetail'\nimport { setIsLoading, sendNotification } from '../redux/appSlice'\n\n\nexport const ClientHome = () => {\n    const dispatch = useDispatch()\n    const [invoiceId, setInvoiceId] = useState(0)\n    const [invoice, setInvoice] = useState(null)\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    useEffect(() => {\n        dispatch(listenForNewInvoices())\n    }, [])\n\n    const getInvoiceById = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(loadInvoice(invoiceId))\n        setInvoice(ret.payload)\n        dispatch(setIsLoading(false))\n    }\n\n    let invoiceModal = null\n    if (invoice != null) {\n        const onHide = (ret) => {\n            setInvoice(null)\n            if (ret){\n                dispatch(sendNotification({ message: `Trasanction successful.`, title: 'Success' }))\n            } else if (ret === false){\n                dispatch(sendNotification({ message: `Trasanction failed.`, title: 'Error', type: 'danger' }))\n            }\n        }\n        const args = { invoice, onHide }\n        invoiceModal = <InvoiceDetail {...args} />\n    }\n\n    return <>\n        <Row>\n            <Col md={4}>\n                <Form.Group>\n                    <Form.Label>Invoice #</Form.Label>\n                    <Form.Control type=\"text\" value={invoiceId} onChange={e => setInvoiceId(e.target.value)}></Form.Control>\n                </Form.Group>\n            </Col>\n        </Row>\n        <br />\n        <Row>\n            <Col md={4}>\n                <Button disabled={isLoading} onClick={getInvoiceById}>\n                    Load\n                </Button>\n            </Col>\n        </Row>\n        <br />\n        {invoiceModal}\n    </>\n}","import { useEffect, useState } from 'react'\nimport { Col, Row, Form, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getContractFee, setContractFee } from '../redux/web3Slice'\nimport { sendNotification, setIsLoading } from '../redux/appSlice'\nimport Web3 from 'web3'\n\nexport const Owner = () => {\n    const dispatch = useDispatch()\n    const [fee, setFee] = useState(0)\n    const [currentFee, setCurrentFee] = useState(0)\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const loadCurrentFee = async () => {\n        const ret = await dispatch(getContractFee())\n        setCurrentFee(ret.payload)\n    }\n\n    useEffect(loadCurrentFee)\n\n    const sendNewFee = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(setContractFee(fee))\n        if (ret.payload) {\n            loadCurrentFee()\n            dispatch(sendNotification({ message: `Trasanction successful.`, title: 'Success' }))\n        } else {\n            dispatch(sendNotification({ message: `Trasanction failed. Only onwer can set contract fee`, title: 'Error', type: 'danger' }))\n        }\n        dispatch(setIsLoading(false))\n    }\n\n    return <>\n        <Row>\n            <Col>\n                <h3>Current Contract fee: {currentFee} Basis points</h3>\n            </Col>\n        </Row>\n        <Row>\n            <Col>\n                <Form.Group>\n                    <Form.Label>Contract Fee</Form.Label>\n                    <Form.Control type=\"text\" value={fee} onChange={e => setFee(e.target.value)} />\n                </Form.Group>\n            </Col>\n        </Row>\n        <br />\n        <Row>\n            <Col>\n                <Button disabled={isLoading} onClick={sendNewFee}>Send</Button>\n            </Col>\n        </Row>\n    </>\n}","import { Container, Toast, ToastContainer } from 'react-bootstrap'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Home from './pages/Home'\nimport { MerchantHome } from './pages/Merchant'\nimport { ClientHome } from './pages/Client'\nimport { Owner } from './pages/Owner'\nimport { closeNotitfication } from './redux/appSlice'\n\nfunction PrivateRoute({ children, path }) {\n  const { connected } = useSelector(state => {\n    return state.web3\n  })\n  return <Route path={path} render={() => {\n    const ele = connected === true\n      ? children\n      : <Redirect to={{ path: '/' }} />\n    return ele\n  }} />;\n}\n\nconst NotificationCenter = () => {\n  const { notification } = useSelector(state => state.app)\n  const dispatch = useDispatch()\n\n  const onHide = () => dispatch(closeNotitfication())\n\n  const truncate = (str, len) => str.length > len ? str.substring(0, len) + '...' : str\n\n  return <ToastContainer position=\"top-end\">\n    <Toast onClose={onHide} show={notification.show} animation={false} bg={notification.type}>\n      <Toast.Header>\n        <img\n          src=\"holder.js/20x20?text=%20\"\n          className=\"rounded me-2\"\n          alt=\"\"\n        />\n        <strong className=\"me-auto\">{notification.title}</strong>\n      </Toast.Header>\n      <Toast.Body>{truncate(notification.message, 200)}</Toast.Body>\n    </Toast>\n  </ToastContainer>\n}\n\nfunction App() {\n  return (\n\n    <Container>\n      <Router>\n        <Switch>\n          <Route exact path=\"/blockchain-developer-bootcamp-final-project/\"> \n            <Home />\n          </Route>\n          <PrivateRoute exact path=\"/blockchain-developer-bootcamp-final-project/merchant\">\n            <MerchantHome />\n          </PrivateRoute>\n          <PrivateRoute exact path=\"/blockchain-developer-bootcamp-final-project/client\">\n            <ClientHome />\n          </PrivateRoute>\n          <PrivateRoute exact path=\"/blockchain-developer-bootcamp-final-project/owner\">\n            <Owner />\n          </PrivateRoute>\n        </Switch>\n      </Router>\n      <NotificationCenter />\n    </Container>\n  );\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit'\nimport web3Reducer from './web3Slice'\nimport appReducer from './appSlice'\n\nexport const store = configureStore({\n  reducer: {\n      web3: web3Reducer,\n      app: appReducer,\n  },\n})","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { Provider } from 'react-redux'\nimport { store } from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}