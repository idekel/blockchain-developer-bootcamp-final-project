{"version":3,"sources":["constants/POS.js","redux/web3Slice.js","redux/appSlice.js","pages/Home.js","components/InvoiceForm.js","components/InvoiceDetail.js","components/InvoiceList.js","pages/Merchant.js","pages/Client.js","pages/Owner.js","App.js","reportWebVitals.js","redux/store.js","index.js"],"names":["POS_ADDR","POS_ABI","web3","connectToMetaMask","createAsyncThunk","_","thunkAPI","a","window","ethereum","request","method","dispatch","setConnected","listenForNewInvoices","eth","Contract","events","NewInvoice","error","event","console","log","on","subscriptionId","createInvoice","discounts","client","products","beneficiary","selectedAddress","pos","methods","send","from","ret","loadInvoice","id","getInvoiceById","call","invoice","getInvoices","getInvoicesFor","invoices","getBalance","getBalanceOf","balance","getContractFee","feeInBasisPoints","fee","setContractFee","newFee","getInvoiceProducts","payInvoice","payload","value","total","sendWithdraw","withdraw","web3Slice","createSlice","name","initialState","connected","loadingInvoice","reducers","state","action","extraReducers","builder","addCase","rejected","pending","fulfilled","actions","initMetaMask","Web3","currentProvider","getAccounts","length","appSlice","notification","show","message","type","title","isLoading","sendNotification","closeNotitfication","setIsLoading","UserSelector","Row","Col","md","className","to","Home","useDispatch","useSelector","app","doConnectToMetaMask","useEffect","child","Button","onClick","ProductForm","props","useState","setName","kind","setKind","price","setPrice","usdPrice","setUSDPrice","quantity","setQuantity","upc","setUPC","imageUrl","setImageUrl","Modal","onHide","size","aria-labelledby","centered","Body","Form","Group","Label","Control","onChange","e","target","Select","onProductCreated","utils","toWei","InvoiceForm","setClient","setDiscount","showAddProduct","setShowAddProduct","setProducts","submitInvoice","onHideProductForm","productForm","product","tbody","trs","i","tr","splice","onDeleteProduct","push","placeholder","Table","disabled","InvoiceDetail","loadProducts","onPayInvoice","productsTable","map","showPayButton","undefined","owner","buyer","fromWei","subtotal","InvoiceList","setInvoices","setInvoice","invoiceDetail","Alert","variant","striped","bordered","hover","status","MerchantHome","setBalance","onGetBalance","balanceSection","onWithdraw","Tabs","defaultActiveKey","Tab","eventKey","ClientHome","invoiceId","setInvoiceId","invoiceModal","args","Owner","setFee","currentFee","setCurrentFee","loadCurrentFee","sendNewFee","PrivateRoute","children","path","render","NotificationCenter","str","len","ToastContainer","position","Toast","onClose","animation","bg","Header","src","alt","substring","App","Container","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","web3Reducer","appReducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ecf3974b.chunk.js","sourcesContent":["export const POS_ADDR = '0x049d9e577F709F61837C83107268B1b4Ba476808' // '0x6C22f511639Ed9293Ff4FAbe7d3EfADdf446E7e8'\n\n\nexport const POS_ABI = [\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"InvoicePaid\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"buyer\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"NewInvoice\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"feeInBasisPoints\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"products\",\n        \"type\": \"tuple[]\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"discounts\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"buyer\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"beneficiary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"createInvoice\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"products\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"name\": \"getSubTotal\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"subtotal\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"pure\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getInvoiceById\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"enum POS.Status\",\n            \"name\": \"status\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"subtotal\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"discounts\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"total\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"beneficiary\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"buyer\",\n            \"type\": \"address\"\n          }\n        ],\n        \"internalType\": \"struct POS.Invoice\",\n        \"name\": \"\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"ownerA\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"getInvoicesFor\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"enum POS.Status\",\n            \"name\": \"status\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"subtotal\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"discounts\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"total\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"beneficiary\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"buyer\",\n            \"type\": \"address\"\n          }\n        ],\n        \"internalType\": \"struct POS.Invoice[]\",\n        \"name\": \"\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getInvoiceProducts\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"enum POS.Type\",\n            \"name\": \"kind\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"price\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"usdPrice\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"quantity\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"upc\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imageUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct POS.Product[]\",\n        \"name\": \"products\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"name\": \"validateProducts\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"pure\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"deleteInvoice\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"payInvoice\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\",\n    \"payable\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"beneficiary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"getBalanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"newFeeInBasisPoints\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"setContractFee\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"withdraw\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]","import { createSlice } from \"@reduxjs/toolkit\"\nimport { createAsyncThunk } from \"@reduxjs/toolkit\"\nimport Web3 from 'web3'\nimport { POS_ABI, POS_ADDR } from '../constants/POS'\n\nconst initialState = {\n    connected: false,\n    loadingInvoice: false,\n}\n\nlet web3 = null\n\n\n\nexport const connectToMetaMask = createAsyncThunk('web3/connectToMetaMask',\n    async (_, thunkAPI) => {\n        await window.ethereum.request({ method: 'eth_requestAccounts' })\n        await thunkAPI.dispatch(setConnected(true))\n    })\n\nexport const listenForNewInvoices = createAsyncThunk('web3/listenForNewInvoices',\n    async () => {\n        const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n        pos.events.NewInvoice({}, (error, event) => {\n            console.log(error)\n        }).on('connected', (subscriptionId) => {\n            console.log(subscriptionId)\n        }).on('data', (event) => {\n            console.log(event)\n        })\n    })\n\nexport const createInvoice = createAsyncThunk(\n    'web3/createInvoice',\n    async ({ discounts, client, products }) => {\n        const beneficiary = window.ethereum.selectedAddress\n        //     imageUrl: 'https://icatcare.org/app/uploads/2018/07/Thinking-of-getting-a-cat.png'\n        try {\n            const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n            const ret = await pos.methods.createInvoice(products, discounts, client, beneficiary)\n                .send({ from: beneficiary })\n            console.log(ret)\n        } catch (e) {\n            return e\n        }\n        return true\n    },\n)\n\nexport const loadInvoice = createAsyncThunk('web3/loadInvoice', async (id) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const invoice = await pos.methods.getInvoiceById(id).call()\n    return invoice\n})\n\nexport const getInvoices = createAsyncThunk('web3/getInvoices', async () => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const invoices = await pos.methods.getInvoicesFor(window.ethereum.selectedAddress).call()\n    return invoices\n})\n\nexport const getBalance = createAsyncThunk('web3/getBalance', async () => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const balance = await pos.methods.getBalanceOf(window.ethereum.selectedAddress).call()\n    return balance\n})\n\nexport const getContractFee = createAsyncThunk('web3/getContractFee', async () => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    const method = pos.methods.feeInBasisPoints()\n    const fee = await method.call()\n    return fee\n})\n\nexport const setContractFee = createAsyncThunk('web3/setContractFee', async (newFee) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    try {\n        const ret = await pos.methods.setContractFee(newFee)\n            .send({ from: window.ethereum.selectedAddress})\n    } catch (e) {\n        return false\n    }\n    return true\n})\n\nexport const getInvoiceProducts = createAsyncThunk('web3/getInvoiceProducts', (id) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    return pos.methods.getInvoiceProducts(id).call()\n})\n\n\nexport const payInvoice = createAsyncThunk('web3/payInvoice', async (id, thunkAPI) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    try {\n        const { payload } = await thunkAPI.dispatch(loadInvoice(id))\n        const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n        const ret = await pos.methods.payInvoice(id)\n            .send({ from: window.ethereum.selectedAddress, value: payload.total })\n        console.log(ret)\n    } catch (e) {\n        console.log(e)\n        return false\n    }\n    return true\n})\n\nexport const sendWithdraw = createAsyncThunk('web3/withdraw', async (id, thunkAPI) => {\n    const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n    try {\n        const pos = new web3.eth.Contract(POS_ABI, POS_ADDR)\n        const ret = await pos.methods.withdraw()\n            .send({ from: window.ethereum.selectedAddress})\n        console.log(ret)\n    } catch (e) {\n        console.log(e)\n        return false\n    }\n    return true\n})\n\nexport const web3Slice = createSlice({\n    name: 'web3',\n    initialState,\n    reducers: {\n        setConnected: (state, action) => {\n            state.connected = true\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(createInvoice.rejected, (state, action) => {\n            console.log(action.error)\n        })\n        builder.addCase(loadInvoice.pending, (state, action) => {\n            state.loadingInvoice = true;\n        })\n        builder.addCase(loadInvoice.fulfilled, (state, action) => {\n            state.loadingInvoice = false;\n        })\n    },\n})\n\nexport const { setConnected } = web3Slice.actions\n\nexport const initMetaMask = createAsyncThunk('web/initMetaMask', async (_, thunkAPI) => {\n    if (window.ethereum) {\n        web3 = new Web3(window.ethereum);\n    } else if (window.web3) {\n        web3 = new Web3(window.web3.currentProvider);\n    };\n    const ret = await web3.eth.getAccounts()\n    if (ret.length > 0){\n        thunkAPI.dispatch(setConnected(true))\n    }\n})\n\nexport default web3Slice.reducer\n","import { createSlice } from '@reduxjs/toolkit'\n\n\nconst initialState = {\n    notification: {\n        show: false,\n        message: '',\n        type: 'light',\n        title: ''\n    },\n    isLoading: false,\n}\n\nexport const appSlice = createSlice({\n    name: 'app',\n    initialState,\n    reducers: {\n        sendNotification: (state, action) => {\n            state.notification = {\n                show: true,\n                message: action.payload.message,\n                type: action.payload.type || 'success',\n                title: action.payload.title || 'Success',\n            }\n        },\n        closeNotitfication: (state) => {\n            state.notification = { show: false, message: '', type: 'light', title: '', }\n        },\n        setIsLoading: (state, action) => {\n            state.isLoading = action.payload\n        }\n    }\n})\n\nexport const { sendNotification, closeNotitfication, setIsLoading } = appSlice.actions\n\nexport default appSlice.reducer","import { useDispatch, useSelector } from 'react-redux'\nimport { Button, Row, Col } from 'react-bootstrap'\nimport { connectToMetaMask, initMetaMask } from '../redux/web3Slice'\nimport './App.scss'\nimport { Link } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport { setIsLoading } from '../redux/appSlice'\n\nfunction UserSelector() {\n    return <Row>\n        <Col md={4}>\n            <div className=\"clientButoon\">\n                <Link to=\"/blockchain-developer-bootcamp-final-project/merchant\">Merchant</Link>\n            </div>\n            <div className=\"clientButoon\">\n                <Link to=\"/blockchain-developer-bootcamp-final-project/client\">Client</Link>\n            </div>\n            <div className=\"clientButoon\">\n                <Link to=\"/blockchain-developer-bootcamp-final-project/owner\">Owner</Link>\n            </div>\n        </Col>\n    </Row>\n}\n\nconst Home = () => {\n    const dispatch = useDispatch();\n    const { connected } = useSelector(state => {\n        return state.web3\n    })\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const doConnectToMetaMask = async () => {\n        if (!connected) {\n            dispatch(setIsLoading(true))\n            try {\n                await dispatch(connectToMetaMask())\n            } finally {\n                dispatch(setIsLoading(false))\n            }\n        }\n    }\n\n    useEffect(() => {\n        dispatch(initMetaMask())\n    }, [])\n\n    let child = <Row>\n        <Col md={3}>\n            <Button onClick={doConnectToMetaMask}>Connecto to meta mask</Button>\n        </Col>\n    </Row>\n\n    if (connected) {\n        child = <UserSelector></UserSelector>\n    } else if (isLoading) {\n        child = <div>\n            <h3>Connecting to metamask...</h3>\n        </div>\n    }\n\n    return <div className=\"AppContainer\">{child}</div>;\n\n}\n\nexport default Home;","import { useState } from 'react';\nimport { Row, Col, Form, Button, Modal, Table } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { createInvoice } from '../redux/web3Slice'\nimport { sendNotification, setIsLoading } from '../redux/appSlice'\nimport Web3 from 'web3'\n\n\nconst ProductForm = (props) => {\n    const [name, setName] = useState('')\n    const [kind, setKind] = useState('0')\n    const [price, setPrice] = useState(0)\n    const [usdPrice, setUSDPrice] = useState(0)\n    const [quantity, setQuantity] = useState(1)\n    const [upc, setUPC] = useState('')\n    const [imageUrl, setImageUrl] = useState('')\n\n    return <>\n        <Modal\n            onHide={props.onHide}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n            show={true}\n        >\n            <Modal.Body>\n                <Form.Group>\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Kind</Form.Label>\n                    <Form.Select value={name} onChange={e => { setKind(e.target.value) }}>\n                        <option value=\"0\">Good</option>\n                        <option value=\"1\">Service</option>\n                    </Form.Select>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Price</Form.Label>\n                    <Form.Control type=\"number\" value={price} onChange={e => setPrice(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>USD Price</Form.Label>\n                    <Form.Control type=\"number\" value={usdPrice} onChange={e => setUSDPrice(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Quantity</Form.Label>\n                    <Form.Control type=\"number\" value={quantity} onChange={e => setQuantity(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>UPC</Form.Label>\n                    <Form.Control type=\"text\" value={upc} onChange={e => setUPC(e.target.value)} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Image URL</Form.Label>\n                    <Form.Control type=\"text\" value={imageUrl} onChange={e => setImageUrl(e.target.value)} />\n                </Form.Group>\n            </Modal.Body>\n            <br />\n            <Button onClick={() => props.onProductCreated({ kind, name, imageUrl, upc, price: Web3.utils.toWei(price), usdPrice, quantity })}>Add</Button>\n        </Modal>\n    </>\n}\n\nexport const InvoiceForm = () => {\n\n    const dispatch = useDispatch()\n    const [client, setClient] = useState('')\n    const [discounts, setDiscount] = useState('0')\n    const [showAddProduct, setShowAddProduct] = useState(false)\n    const [products, setProducts] = useState([])\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const submitInvoice = async () => {\n        dispatch(setIsLoading(true))\n        const { payload } = await dispatch(createInvoice({ discounts: Web3.utils.toWei(discounts), client, products }))\n        if (payload === true) {\n            dispatch(sendNotification({ message: 'Transaction completed successfuly.', title: 'Success' }))\n            setClient('')\n            setDiscount('0')\n            setProducts([])\n        } else {\n            dispatch(sendNotification({ message: `Trasanction failed. Error: ${payload.message}`, title: 'Error', type: 'danger' }))\n        }\n        dispatch(setIsLoading(false))\n    }\n\n    const onHideProductForm = () => setShowAddProduct(false)\n\n    const onProductCreated = (product) => {\n        setProducts([...products, product])\n        onHideProductForm()\n    }\n\n    const onDeleteProduct = (i) => {\n        products.splice(i, 1)\n        setProducts([...products])\n    }\n\n    let productForm = null\n    if (showAddProduct) {\n        productForm = <ProductForm onHide={onHideProductForm} onProductCreated={onProductCreated} />\n    }\n\n    let tbody = null\n    if (products.length > 0) {\n        const trs = []\n        for (let i = 0; i < products.length; i++) {\n            const product = products[i]\n            const tr = <tr>\n                <td>{i + 1}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.quantity}</td>\n                <td>{product.usdPrice}</td>\n                <td>{product.kind == 0 ? 'Good' : 'Service'}</td>\n                <td className=\"deleteProduct\" onClick={() => onDeleteProduct(i)}>x</td>\n            </tr>\n\n            trs.push(tr)\n        }\n        tbody = <tbody>{trs}</tbody>\n    }\n\n    return <>\n        <Row>\n            <Col md={6}>\n                <Form.Group>\n                    <Form.Label>Client address</Form.Label>\n                    <Form.Control value={client} type=\"text\" placeholder=\"Entenr your client wallet address\" onChange={e => setClient(e.target.value)}></Form.Control>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Discounts</Form.Label>\n                    <Form.Control value={discounts} type=\"number\" placeholder=\"Entenr any discounts or 0\" onChange={e => setDiscount(e.target.value)}></Form.Control>\n                </Form.Group>\n                <br />\n                <Table>\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>Name</th>\n                            <th>Price ether</th>\n                            <th>Quantity</th>\n                            <th>Price USD</th>\n                            <th>Kind</th>\n                            <th onClick={() => setShowAddProduct(true)}>+</th>\n                        </tr>\n                    </thead>\n                    {tbody}\n                </Table>\n                {productForm}\n                <br />\n                <Button disabled={isLoading} onClick={submitInvoice}>Enviar</Button>\n            </Col>\n        </Row>\n    </>\n};","import { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Web3 from 'web3'\nimport { payInvoice, getInvoiceProducts } from '../redux/web3Slice'\nimport { Row, Col, Button, Modal, Table } from 'react-bootstrap'\nimport { setIsLoading } from '../redux/appSlice'\n\n\nexport const InvoiceDetail = (props) => {\n\n    const [products, setProducts] = useState([])\n    const dispatch = useDispatch()\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const loadProducts = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(getInvoiceProducts(props.invoice.id))\n        setProducts(ret.payload ?? [])\n        dispatch(setIsLoading(false))\n    }\n\n    const onPayInvoice = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(payInvoice(props.invoice.id))\n        dispatch(setIsLoading(false))\n        props.onHide(ret.payload)\n    }\n\n    let child = <Button disabled={isLoading} onClick={products.length == 0 ? loadProducts : () => setProducts([])}>{products.length == 0 ? 'Load products' : 'Hide products'}</Button>\n    let productsTable = null\n\n    if (products.length > 0) {\n        productsTable = <Table>\n            <thead>\n                <tr>\n                    <td>Image</td>\n                    <td>Name</td>\n                    <td>Price</td>\n                    <td>Quantity</td>\n                </tr>\n            </thead>\n            <tbody>\n                {products.map((product) => <tr>\n                    <td>{product.imageUrl}</td>\n                    <td>{product.name}</td>\n                    <td>{product.price}</td>\n                    <td>{product.quantity}</td>\n                </tr>)}\n            </tbody>\n        </Table>\n    }\n\n    const showPayButton = props.showPayButton !== undefined ? props.showPayButton : true\n\n    return <>\n        <Modal\n            onHide={props.onHide}\n            size=\"lg\"\n            centered\n            show={true}\n        >\n            <Modal.Body>\n                <Row>\n                    <Col>\n                        <div><span>Number #: {props.invoice.id}</span></div>\n                        <div><span>Creator: {props.invoice.owner}</span></div>\n                        <div><span>Merchant: {props.invoice.beneficiary}</span></div>\n                        <div><span>Custumer: {props.invoice.buyer}</span></div>\n                        <div><span>Subtotal: {Web3.utils.fromWei(props.invoice.subtotal)} Eth</span></div>\n                        <div><span>Discounts: {Web3.utils.fromWei(props.invoice.discounts)} Eth</span></div>\n                        <div><span>Total: {Web3.utils.fromWei(props.invoice.total)} Eth</span></div>\n                    </Col>\n                </Row>\n                <br />\n                <Row>\n                    <Col>\n                        {productsTable}\n                    </Col>\n                </Row>\n                <Row>\n                    <Col>\n                        {child}\n                    </Col>\n                    <Col>\n                        {showPayButton && <Button disabled={isLoading} onClick={onPayInvoice}>Pay invoice</Button>}\n                    </Col>\n                </Row>\n            </Modal.Body>\n        </Modal>\n    </>\n}","import { useEffect, useState } from 'react'\nimport { Table, Alert } from 'react-bootstrap'\nimport { useDispatch } from 'react-redux'\nimport Web3 from 'web3'\nimport { getInvoices } from '../redux/web3Slice'\nimport { InvoiceDetail } from './InvoiceDetail'\nimport './scss/InvoiceList.scss'\n\nexport const InvoiceList = () => {\n    const dispatch = useDispatch()\n    const [invoices, setInvoices] = useState([])\n    const [invoice, setInvoice] = useState(null)\n\n    useEffect(async () => {\n        try {\n            const ret = await dispatch(getInvoices())\n            if (ret.payload)\n                setInvoices(ret.payload)\n        } catch (e) {\n            console.log(e)\n        }\n    })\n\n    let invoiceDetail = null\n    if (invoice != null) {\n        const onHide = () => setInvoice(null)\n        invoiceDetail = <InvoiceDetail onHide={onHide} invoice={invoice} showPayButton={false} />\n    }\n\n    let child = <Alert variant=\"warning\">\n        <h3>You don't have invoices yet</h3>\n    </Alert> \n\n    if (invoices.length > 0) {\n        child = <Table striped bordered hover>\n            <thead>\n                <tr>\n                    <th>ID#</th>\n                    <th>Beneficiary</th>\n                    <th>Client</th>\n                    <th>Total</th>\n                    <th>Status</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                {invoices.map(invoice => <tr>\n                    <td>{invoice.id}</td>\n                    <td>{invoice.beneficiary}</td>\n                    <td>{invoice.buyer}</td>\n                    <td>{Web3.utils.fromWei(invoice.total)}</td>\n                    <td>{invoice.status == 1 ? 'Paid' : 'Pending'}</td>\n                    <td><a onClick={() => setInvoice(invoice)}>Ver</a></td>\n                </tr>)}\n            </tbody>\n        </Table>\n    }\n\n    return <div className=\"InvoiceList\">\n        {child}\n        {invoiceDetail}\n    </div>\n}","import { InvoiceForm } from '../components/InvoiceForm'\nimport { getBalance, sendWithdraw } from '../redux/web3Slice'\nimport { sendNotification, setIsLoading } from '../redux/appSlice'\nimport { Row, Col, Tabs, Tab, Button } from 'react-bootstrap'\nimport { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Web3 from 'web3'\nimport { InvoiceList } from '../components/InvoiceList'\n\n\nexport const MerchantHome = () => {\n    const [balance, setBalance] = useState(null)\n    const dispatch = useDispatch()\n    const isLoading = useSelector(state => state.app.isLoading)\n\n\n    const onGetBalance = async () => {\n        const ret = await dispatch(getBalance())\n        setBalance(Web3.utils.fromWei(ret.payload || '0'))\n    }\n\n    useEffect(() => {\n        onGetBalance()\n    })\n    let balanceSection = null\n    if (balance !== null) {\n        const onWithdraw = async () => {\n            dispatch(setIsLoading(true))\n            const ret = await dispatch(sendWithdraw())\n            if (ret.payload) {\n                dispatch(sendNotification({ message: `Trasanction successful.`, title: 'Success' }))\n            } else {\n                dispatch(sendNotification({ message: `Trasanction failed.`, title: 'Error', type: 'danger' }))\n            }\n            dispatch(setIsLoading(false))\n        }\n        const withdraw =\n            <Button disabled={isLoading} onClick={onWithdraw}>Withdraw</Button>\n        balanceSection = <Row>\n            <Col>\n                <h1>Current balance: {balance} {balance > 0 && withdraw} </h1>\n            </Col>\n        </Row>\n    }\n    return <Tabs defaultActiveKey=\"invoices\">\n        <Tab eventKey=\"invoices\" title=\"My Invoices\">\n            {balanceSection}\n            <h1>List of invoices</h1>\n            <hr />\n            <InvoiceList />\n        </Tab>\n        <Tab eventKey=\"invoice-form\" title=\"Create new invoice\">\n            <InvoiceForm></InvoiceForm>\n        </Tab>\n    </Tabs>\n}","import { useEffect, useState } from 'react'\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { loadInvoice, listenForNewInvoices } from '../redux/web3Slice'\nimport { InvoiceDetail } from '../components/InvoiceDetail'\nimport { setIsLoading, sendNotification } from '../redux/appSlice'\n\n\nexport const ClientHome = () => {\n    const dispatch = useDispatch()\n    const [invoiceId, setInvoiceId] = useState(0)\n    const [invoice, setInvoice] = useState(null)\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    useEffect(() => {\n        dispatch(listenForNewInvoices())\n    }, [])\n\n    const getInvoiceById = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(loadInvoice(invoiceId))\n        setInvoice(ret.payload)\n        dispatch(setIsLoading(false))\n    }\n\n    let invoiceModal = null\n    if (invoice != null) {\n        const onHide = (ret) => {\n            setInvoice(null)\n            if (ret){\n                dispatch(sendNotification({ message: `Trasanction successful.`, title: 'Success' }))\n            } else if (ret === false){\n                dispatch(sendNotification({ message: `Trasanction failed.`, title: 'Error', type: 'danger' }))\n            }\n        }\n        const args = { invoice, onHide }\n        invoiceModal = <InvoiceDetail {...args} />\n    }\n\n    return <>\n        <Row>\n            <Col md={4}>\n                <Form.Group>\n                    <Form.Label>Invoice #</Form.Label>\n                    <Form.Control type=\"text\" value={invoiceId} onChange={e => setInvoiceId(e.target.value)}></Form.Control>\n                </Form.Group>\n            </Col>\n        </Row>\n        <br />\n        <Row>\n            <Col md={4}>\n                <Button disabled={isLoading} onClick={getInvoiceById}>\n                    Load\n                </Button>\n            </Col>\n        </Row>\n        <br />\n        {invoiceModal}\n    </>\n}","import { useEffect, useState } from 'react'\nimport { Col, Row, Form, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getContractFee, setContractFee } from '../redux/web3Slice'\nimport { sendNotification, setIsLoading } from '../redux/appSlice'\nimport Web3 from 'web3'\n\nexport const Owner = () => {\n    const dispatch = useDispatch()\n    const [fee, setFee] = useState(0)\n    const [currentFee, setCurrentFee] = useState(0)\n    const isLoading = useSelector(state => state.app.isLoading)\n\n    const loadCurrentFee = async () => {\n        const ret = await dispatch(getContractFee())\n        setCurrentFee(ret.payload)\n    }\n\n    useEffect(loadCurrentFee)\n\n    const sendNewFee = async () => {\n        dispatch(setIsLoading(true))\n        const ret = await dispatch(setContractFee(fee))\n        if (ret.payload) {\n            loadCurrentFee()\n            dispatch(sendNotification({ message: `Trasanction successful.`, title: 'Success' }))\n        } else {\n            dispatch(sendNotification({ message: `Trasanction failed. Only onwer can set contract fee`, title: 'Error', type: 'danger' }))\n        }\n        dispatch(setIsLoading(false))\n    }\n\n    return <>\n        <Row>\n            <Col>\n                <h3>Current Contract fee: {currentFee} Basis points</h3>\n            </Col>\n        </Row>\n        <Row>\n            <Col>\n                <Form.Group>\n                    <Form.Label>Contract Fee</Form.Label>\n                    <Form.Control type=\"text\" value={fee} onChange={e => setFee(e.target.value)} />\n                </Form.Group>\n            </Col>\n        </Row>\n        <br />\n        <Row>\n            <Col>\n                <Button disabled={isLoading} onClick={sendNewFee}>Send</Button>\n            </Col>\n        </Row>\n    </>\n}","import { Container, Toast, ToastContainer } from 'react-bootstrap'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Home from './pages/Home'\nimport { MerchantHome } from './pages/Merchant'\nimport { ClientHome } from './pages/Client'\nimport { Owner } from './pages/Owner'\nimport { closeNotitfication } from './redux/appSlice'\n\nfunction PrivateRoute({ children, path }) {\n  const { connected } = useSelector(state => {\n    return state.web3\n  })\n  return <Route path={path} render={() => {\n    const ele = connected === true\n      ? children\n      : <Redirect to={{ path: '/' }} />\n    return ele\n  }} />;\n}\n\nconst NotificationCenter = () => {\n  const { notification } = useSelector(state => state.app)\n  const dispatch = useDispatch()\n\n  const onHide = () => dispatch(closeNotitfication())\n\n  const truncate = (str, len) => str.length > len ? str.substring(0, len) + '...' : str\n\n  return <ToastContainer position=\"top-end\">\n    <Toast onClose={onHide} show={notification.show} animation={false} bg={notification.type}>\n      <Toast.Header>\n        <img\n          src=\"holder.js/20x20?text=%20\"\n          className=\"rounded me-2\"\n          alt=\"\"\n        />\n        <strong className=\"me-auto\">{notification.title}</strong>\n      </Toast.Header>\n      <Toast.Body>{truncate(notification.message, 200)}</Toast.Body>\n    </Toast>\n  </ToastContainer>\n}\n\nfunction App() {\n  return (\n\n    <Container>\n      <Router>\n        <Switch>\n          <Route exact path=\"/blockchain-developer-bootcamp-final-project/\"> \n            <Home />\n          </Route>\n          <PrivateRoute exact path=\"/blockchain-developer-bootcamp-final-project/merchant\">\n            <MerchantHome />\n          </PrivateRoute>\n          <PrivateRoute exact path=\"/blockchain-developer-bootcamp-final-project/client\">\n            <ClientHome />\n          </PrivateRoute>\n          <PrivateRoute exact path=\"/blockchain-developer-bootcamp-final-project/owner\">\n            <Owner />\n          </PrivateRoute>\n        </Switch>\n      </Router>\n      <NotificationCenter />\n    </Container>\n  );\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit'\nimport web3Reducer from './web3Slice'\nimport appReducer from './appSlice'\n\nexport const store = configureStore({\n  reducer: {\n      web3: web3Reducer,\n      app: appReducer,\n  },\n})","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { Provider } from 'react-redux'\nimport { store } from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}